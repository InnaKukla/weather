"use strict";(self.webpackChunkweather=self.webpackChunkweather||[]).push([[489],{489:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});var n=r(43),a=r(579);const l=e=>{let{fetchWeatherFunc:t}=e;const[r,l]=(0,n.useState)(""),o=()=>{r&&(t(r),l(""))};return(0,a.jsxs)("header",{className:"flex flex-col sm:flex-row gap-3 items-center justify-between z-100  mt-10 ",children:[(0,a.jsx)("a",{href:"/weather",children:(0,a.jsx)("h1",{className:"text-5xl hover:text-[52px] font-bold bg-gradient-to-r from-black to-[#ffffff85] bg-clip-text text-transparent cursor-pointer",children:"Weather"})}),(0,a.jsxs)("div",{className:"flex gap-5",children:[(0,a.jsx)("input",{name:"city",type:"text",value:r,onChange:e=>l(e.target.value),onKeyDown:e=>{var t;"Enter"===e.key&&(o(),null===(t=e.target)||void 0===t||t.blur())},placeholder:"\u041d\u0430\u0437\u0432\u0430 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0443, \u043a\u0440\u0430\u0457\u043d\u0438 \u0447\u0438 \u0440\u0435\u0433\u0456\u043e\u043d\u0443",autoComplete:"off",className:"w-[300px] ring-1 ring-gray-300 rounded-md sm:w-[450px] lg:w-[600px] p-2 outline-gray-300 bg-color-[#fff] text-[#75777a]"}),(0,a.jsx)("button",{onClick:o,disabled:""===r,className:"cursor-pointer",children:(0,a.jsx)("img",{src:"".concat("/weather","/icons/search-white.svg"),alt:"search icon",className:"color-white",width:24})})]})]})},o=e=>{var t,r,n;let{weatherData:l}=e;if("404"===(null===l||void 0===l?void 0:l.cod)||!l)return null;const{name:o,main:s,weather:i}=l;return(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("h2",{className:"text-[60px] mt-14 md:mt-16",children:o}),(0,a.jsxs)("p",{className:"text-[74px]",children:[Math.round(null===s||void 0===s?void 0:s.temp),"\xb0C"]}),(0,a.jsxs)("p",{className:"text-[22px]",children:["\u0412\u0456\u0434\u0447\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u044f\u043a: ",Math.round(null===s||void 0===s?void 0:s.feels_like),"\xb0C"]}),(0,a.jsx)("p",{className:"text-[24px]",children:i&&(null===(t=i[0].description)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(r=i[0])||void 0===r||null===(n=r.description)||void 0===n?void 0:n.slice(1))})]})},s=["\u041f\u043d","\u041f\u043d-\u0421\u0445","\u0421\u0445","\u041f\u0434-\u0421\u0445","\u041f\u0434","\u041f\u0434-\u0417\u0445","\u0417\u0445","\u041f\u043d-\u0417\u0445"],i=e=>{let{weatherData:t}=e;if(!t)return null;const{wind:r}=t,n=s[Math.round((null===r||void 0===r?void 0:r.deg)/45)%8];return(0,a.jsxs)("div",{className:"mt-10 flex flex-col  justify-start border border-solid rounded-2xl border-[#3f718b94] bg-[#3f718b94] p-[16px]",children:[" ",(0,a.jsxs)("p",{className:"flex justify-between items-center text-white font-semibold text-xl",children:["\u0412\u0456\u0442\u0435\u0440 ",(0,a.jsxs)("span",{children:[Math.round(null===r||void 0===r?void 0:r.speed)," \u043c/\u0441"]})]}),null!==r&&void 0!==r&&r.gust?(0,a.jsxs)("p",{className:"flex justify-between items-center text-white font-semibold text-xl",children:["\u041f\u043e\u0440\u0438\u0432\u0438 \u0432\u0456\u0442\u0440\u0443 ",(0,a.jsxs)("span",{children:[Math.round(null===r||void 0===r?void 0:r.gust)," \u043c/\u0441"]})]}):"",(0,a.jsxs)("p",{className:"flex justify-between items-center text-white font-semibold text-xl",children:["\u041d\u0430\u043f\u0440\u044f\u043c\u043e\u043a \u0432\u0456\u0442\u0440\u0443"," ",(0,a.jsxs)("span",{className:"ml-[20px]",children:[Math.round(null===r||void 0===r?void 0:r.deg),"\xb0 ",n]})]})]})},c=e=>{let{weatherData:t}=e;if("404"===(null===t||void 0===t?void 0:t.cod)||!t)return null;const{main:r,sys:n,visibility:l}=t,o=null===n||void 0===n?void 0:n.sunrise,s=null===n||void 0===n?void 0:n.sunset,c=new Date(1e3*(null!==o&&void 0!==o?o:0)),d=new Date(1e3*(null!==s&&void 0!==s?s:0));return(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsxs)("div",{className:"flex items-center  gap-20 mt-10 border border-solid rounded-2xl border-[#3f718b94] p-[16px] bg-[#3f718b94]",children:[(0,a.jsxs)("p",{className:"text-white font-semibold text-xl",children:["\u0421\u0445\u0456\u0434 \u0441\u043e\u043d\u0446\u044f: ",null===c||void 0===c?void 0:c.toLocaleTimeString("uk-UA")]}),(0,a.jsxs)("p",{className:"text-white font-semibold text-xl",children:["\u0417\u0430\u0445\u0456\u0434 \u0441\u043e\u043d\u0446\u044f: ",null===d||void 0===d?void 0:d.toLocaleTimeString("uk-UA")]})]}),(0,a.jsxs)("div",{className:"xl:flex xl:gap-20 xl:items-start justify-center",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center gap-[35px] md:gap-[60px] lg:gap-[70px] xl:flex-col xl:gap-0 xl:flex xl:flex-1 xl:mt-10",children:[(0,a.jsxs)("div",{className:"mt-10 xl:mt-0 flex flex-col xl:flex-row gap-2 p-[16px] border border-solid rounded-2xl border-[#3f718b94] bg-[#3f718b94] ",children:[(0,a.jsx)("p",{className:"text-white font-semibold text-xl",children:"\u0412\u043e\u043b\u043e\u0433\u0456\u0441\u0442\u044c"}),(0,a.jsxs)("p",{className:"text-white font-semibold text-xl",children:[null===r||void 0===r?void 0:r.humidity,"%"]})]}),(0,a.jsxs)("div",{className:"mt-10 flex flex-col xl:flex-row gap-2 xl:mt-3 p-[16px] border border-solid rounded-2xl border-[#3f718b94] bg-[#3f718b94]",children:[(0,a.jsx)("p",{className:"text-white font-semibold text-xl",children:"\u0412\u0438\u0434\u0438\u043c\u0456\u0441\u0442\u044c"}),(0,a.jsxs)("p",{className:"text-white font-semibold text-xl",children:[l/1e3,"\u043a\u043c"]})]})]}),(0,a.jsx)(i,{weatherData:t})]})]})},d=()=>(0,a.jsxs)("footer",{className:"flex flex-col  sm:flex-row gap-5 border-t border-solid border-[#0000003b] justify-between items-center mt-32 sm:mt-auto pt-6 mb-10 ",children:[(0,a.jsxs)("div",{className:"flex flex-col  md:flex-row justify-between items-center md:items-baseline gap-4",children:[(0,a.jsx)("a",{href:"/weather",children:(0,a.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-black to-[#ffffff85] bg-clip-text text-transparent",children:"Weather"})}),(0,a.jsx)("p",{className:"text-[14px] text-[#000000a8]",children:"\xa9 2025"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("a",{href:"/weather",className:"text-[14px] cursor-pointer text-[#000000a8] hover:text-[16px] hover:text-[#a8a2a2]",children:"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456"}),(0,a.jsx)("a",{href:"/weather",className:"text-[14px] cursor-pointer text-[#000000a8] hover:text-[16px] hover:text-[#a8a2a2]",children:"\u0423\u0433\u043e\u0434\u0430 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430"}),(0,a.jsx)("a",{href:"/weather",className:"text-[14px] cursor-pointer text-[#000000a8] hover:text-[16px] hover:text-[#a8a2a2]",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})]})]});function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function x(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}function f(e,t,r){return(t=x(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const p=e=>{let t;const r=new Set,n=(e,n)=>{const a="function"===typeof e?e(t):e;if(!Object.is(a,t)){const e=t;t=(null!=n?n:"object"!==typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,l={setState:n,getState:a,getInitialState:()=>o,subscribe:e=>(r.add(e),()=>r.delete(e))},o=t=e(n,a,l);return l},b=e=>e;const g=e=>{const t=(e=>e?p(e):p)(e),r=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b;const r=n.useSyncExternalStore(e.subscribe,n.useCallback(()=>t(e.getState()),[e,t]),n.useCallback(()=>t(e.getInitialState()),[e,t]));return n.useDebugValue(r),r}(t,e);return Object.assign(r,t),r};function v(e,t){let r;try{r=e()}catch(n){return}return{getItem:e=>{var n;const a=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),l=null!=(n=r.getItem(e))?n:null;return l instanceof Promise?l.then(a):a(l)},setItem:(e,n)=>r.setItem(e,JSON.stringify(n,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}const w=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>w(e)(r),catch(e){return this}}}catch(r){return{then(e){return this},catch:e=>w(e)(r)}}},j=(e,t)=>(r,n,a)=>{let l=h({storage:v(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>h(h({},t),e)},t),o=!1;const s=new Set,i=new Set;let c=l.storage;if(!c)return e(function(){console.warn("[zustand persist middleware] Unable to update item '".concat(l.name,"', the given storage is currently unavailable.")),r(...arguments)},n,a);const d=()=>{const e=l.partialize(h({},n()));return c.setItem(l.name,{state:e,version:l.version})},u=a.setState;a.setState=(e,t)=>(u(e,t),d());const x=e(function(){return r(...arguments),d()},n,a);let f;a.getInitialState=()=>x;const m=()=>{var e,t;if(!c)return;o=!1,s.forEach(e=>{var t;return e(null!=(t=n())?t:x)});const a=(null==(t=l.onRehydrateStorage)?void 0:t.call(l,null!=(e=n())?e:x))||void 0;return w(c.getItem.bind(c))(l.name).then(e=>{if(e){if("number"!==typeof e.version||e.version===l.version)return[!1,e.state];if(l.migrate){const t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;const[a,o]=e;if(f=l.merge(o,null!=(t=n())?t:x),r(f,!0),a)return d()}).then(()=>{null==a||a(f,void 0),f=n(),o=!0,i.forEach(e=>e(f))}).catch(e=>{null==a||a(void 0,e)})};return a.persist={setOptions:e=>{l=h(h({},l),e),e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:e=>(s.add(e),()=>{s.delete(e)}),onFinishHydration:e=>(i.add(e),()=>{i.delete(e)})},l.skipHydration||m(),f||x},y={Clouds:"".concat("/weather","/images/cloudy2.jpg"),Rain:"".concat("/weather","/images/rain.webp"),Clear:"".concat("/weather","/images/clear.jpg"),Snow:"".concat("/weather","/images/snow.jpg"),Default:"".concat("/weather","/images/default.png")},N=e=>{let t;var r;null!==e&&void 0!==e&&e.weather?t=y[null===e||void 0===e||null===(r=e.weather[0])||void 0===r?void 0:r.main]:t=y.Default;const n=new Image;return n.src=t,n.onload=()=>{document.body.style.transition="background-image 1s easy-in-out",document.body.style.backgroundImage="url(".concat(t,")"),document.body.style.backgroundSize="cover",document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition="center"},n},S="7e12feb07232d4a50245bf4f2d33714e";console.log(S);const O=(k?g(k):g)(j((e,t)=>({weatherData:{},lastCity:"",currentWeather:null,error:"",loading:!1,fetchWeather:async r=>{if(!r)return;const n="weather_".concat(null===r||void 0===r?void 0:r.toLowerCase()),a=t().weatherData[n],l=Date.now();if(e({loading:!0,error:"",currentWeather:null}),a&&l-a.timestamp<6e5)return e({lastCity:r,currentWeather:a.data,loading:!1,error:""}),void N(a.data);e({loading:!0,error:""});try{const t=await fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(r,"&appid=").concat(S,"&units=metric&lang=uk"));if(!t.ok)throw new Error("\u041c\u0456\u0441\u0442\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e");const a=await t.json();e(e=>({weatherData:h(h({},e.weatherData),{},{[n]:{data:a,timestamp:l}}),lastCity:r,currentWeather:a,loading:!1,error:""})),N(a)}catch(o){e({error:o.message,loading:!1,currentWeather:null,lastCity:""})}}}),{name:"weather-storage"}));var k,D=r(811);const C=()=>{const{fetchWeather:e,lastCity:t,currentWeather:r,error:s,loading:i}=O();(0,n.useEffect)(()=>{r||N(null)},[]),(0,n.useEffect)(()=>{s&&N(null)},[s]),(0,n.useEffect)(()=>{t&&e(t)},[e,t]);return(0,a.jsxs)("section",{className:"flex min-h-screen flex-col px-4 md:px-8 lg:px-16 xl:px-32 2xl:px-64 relative ",children:[(0,a.jsx)(l,{fetchWeatherFunc:async t=>{t&&e(t)}}),i&&(0,a.jsx)(D.A,{}),s&&(0,a.jsx)("div",{className:"mt-[150px] text-[50px] font-normal text-[#383c45] mx-auto",children:s.charAt(0).toUpperCase()+s.slice(1)}),r&&!s&&!i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o,{weatherData:r,loading:i,error:s}),(0,a.jsx)(c,{weatherData:r})]}),(0,a.jsx)(d,{})]})}}}]);
//# sourceMappingURL=489.fa2a4ca8.chunk.js.map